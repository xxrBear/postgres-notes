## 查询语句风格

### 简介

在SQL语句中，下面两个查询语句的结果是一样的：

```sql
SeLect 1;

select 1;
```

虽然结果相同，但如果随意使用不规范的大小写，可能引起团队成员或其他人的困惑。毕竟 SQL 写出来是给人看的不是吗？因此写 SQL 也有最佳实践
  
### 最佳语句风格实践

**关键字大写，字段和表名小写**

```sql
SELECT id, name, created_at
FROM users
WHERE status = 'active';
```

**每个子句独占一行**

```sql
SELECT id, name, email
FROM customers
WHERE created_at >= '2024-01-01'
  AND status = 'active'
ORDER BY created_at DESC;
```

**缩进对齐**

```sql
SELECT
    order_id,
    customer_id,
    total_amount
FROM
    orders
WHERE
    status = 'completed';
```

**表别名统一风格**

```sql
SELECT o.order_id, c.name
FROM orders o
JOIN customers c ON o.customer_id = c.id;
```

不推荐使用 `a`, `b`, `t1`, `t2` 这类无意义的别名

**使用显式 JOIN**

- 推荐

```sql
SELECT *
FROM orders o
JOIN customers c ON o.customer_id = c.id;
```

- 不推荐隐式连接

```sql
SELECT *
FROM orders o, customers c
WHERE o.customer_id = c.id;
```

**WHERE 子句对齐**

```sql
WHERE
    type = 'book'
    AND created_at >= '2024-01-01'
    AND (
        price >= 100 OR discount IS NOT NULL
    )
```

**复杂查询分块注释**

```sql
-- 获取订单及客户信息
SELECT o.id, o.total, c.name
FROM orders o
JOIN customers c ON o.customer_id = c.id
WHERE o.status = 'completed';
```

[返回目录](#目录)